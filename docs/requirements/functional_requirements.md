# 機能要件定義 (コア機能)

このドキュメントは、「不動産価値情報収集ツール」が提供すべきコア機能について定義します。

## F01: 位置特定

* **ID:** F01
* **要件名:** 位置特定
* **概要:** ユーザーがテキスト入力フィールドに**住所**を入力することで、対象物件の地理的な位置（緯度経度）を特定できること。
* **詳細:** 内部的にジオコーディングAPIを利用して緯度経度に変換する。

## F02: 周辺情報自動収集

* **ID:** F02
* **要件名:** 周辺情報自動収集
* **概要:** 特定された物件位置に基づき、定義された範囲の周辺情報を自動的に収集する。

* **ID:** F02.1
    * **要件名:** 収集範囲定義
    * **概要:** 基本的な収集範囲は、物件位置から**地図サービスのルート検索機能（徒歩）を用いて10分圏内**とする。
* **ID:** F02.2
    * **要件名:** 周辺施設情報収集
    * **概要:** 収集範囲内にある、以下のカテゴリに該当する施設情報を地図サービスAPI等から収集できること。
        * 生活利便施設: コンビニ、スーパーマーケット、学校（小学校・中学校）、病院・クリニック、銀行/ATM、郵便局など。
        * 嫌悪・注意施設（例）: 主要幹線道路、鉄道線路、工場、パチンコ店など（地図APIで検索可能なカテゴリ）。
    * **収集項目:** 施設名、カテゴリ、位置（緯度経度）。
* **ID:** F02.3
    * **要件名:** 周辺賃料情報収集（非同期）
    * **概要:** 指定位置周辺の**個別の賃貸物件情報**を不動産ポータルサイト等から**非同期**で収集できること。
    * **収集項目:** 賃料、管理費、間取り、専有面積、築年数、物件所在地。
    * **計算:** 収集データから**「㎡単価（賃料/専有面積）」を計算し、その平均値または中央値**を算出できること。
    * **留意事項:** **【最重要】** 情報収集は各情報源の**利用規約を厳守**すること。規約確認を最優先とし、スクレイピング等が困難な場合は代替案（国交省データ利用等）を検討する。

## F03: ユーザー認証

* **ID:** F03
* **要件名:** ユーザー認証
* **概要:** ユーザーがアカウント登録（サインアップ）およびログイン（サインイン）できること。認証されたユーザーのみが本ツールの主要機能を利用できること。

## F04: グラフィカル表示

* **ID:** F04
* **要件名:** グラフィカル表示
* **概要:** 収集・分析した情報をユーザーに分かりやすく表示する。

* **ID:** F04.1
    * **要件名:** 地図表示
    * **概要:** 特定した物件位置（マーカー）と、収集した周辺施設（カテゴリ別アイコン）を、インタラクティブな地図上に表示できること。
* **ID:** F04.2
    * **要件名:** 情報エリア表示
    * **概要:** 収集・算出した「賃料㎡単価（平均/中央値）」および「個別賃貸物件リスト」を画面上の専用エリアに分かりやすく表示できること。賃料情報の非同期処理中は「処理中」などのステータスを表示し、処理完了後に結果を表示できること。