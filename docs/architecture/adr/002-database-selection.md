# 002: データベースの選定

* **ステータス:** 決定済み (2025-05-04)
* **コンテキスト:**
    * 収集した賃貸物件情報や算出結果を保存する必要がある。
    * サーバーレス環境 (AWS Lambda) からのアクセスが主となる。
    * リレーショナルデータ（物件情報）を扱うため、PostgreSQL互換が望ましい。
    * 利用頻度が低い可能性があるため、コスト効率を重視したい。
    * 当初、RDS for PostgreSQL + RDS Proxy案も検討された。
* **決定事項:**
    * **Aurora Serverless v2 (PostgreSQL互換)** を採用する。
* **理由/根拠:**
    * **コスト効率:** アイドル時に最小キャパシティまで自動スケールダウンするため、常時稼働のRDSインスタンスよりコストを抑えられる可能性がある。
    * **サーバーレス親和性:** 負荷に応じた自動スケーリングはサーバーレスアーキテクチャと親和性が高い。
    * **構成シンプル化:** v2ではLambdaからの直接接続が容易なため、RDS Proxyが不要となり構成が簡略化できる。
    * **許容事項:** コールドスタート時に若干のレスポンス遅延が発生する可能性があるが、ユーザーにより許容されることが確認された。
    * PostgreSQL互換であるため、既存の知識やツールが活用できる。
* **影響/結果:**
    * Lambda関数からAurora Serverless v2へ直接接続する実装を行う（IAM認証やSecrets Manager利用推奨）。
    * RDS Proxyは利用しない。
    * 最小キャパシティ分のコストは発生する点に留意する。